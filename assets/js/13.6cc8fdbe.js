(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{408:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",[a("p",[t._v("åŸºäºSpringBoot çš„é€šç”¨Webå®‰å…¨ç»„ä»¶")]),t._v(" "),a("p",[t._v("Based SpringBoot Web Security components")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/SeeMountainSea/shanhai-guard-spring-boot-starter/releases/latest"}},[a("img",{attrs:{alt:"GitHub release (latest by date)",src:"https://img.shields.io/github/v/release/SeeMountainSea/shanhai-guard-spring-boot-starter"}})]),t._v(" "),a("a",{attrs:{href:"https://github.com/SeeMountainSea/shanhai-guard-spring-boot-starter/issues"}},[a("img",{attrs:{alt:"GitHub closed issues",src:"https://img.shields.io/github/issues/SeeMountainSea/shanhai-guard-spring-boot-starter?color=009688"}})]),t._v(" "),a("a",{attrs:{href:"https://github.com/topics/java"}},[a("img",{attrs:{alt:"GitHub top language",src:"https://img.shields.io/github/languages/top/SeeMountainSea/shanhai-guard-spring-boot-starter?color=eb8031"}})]),t._v(" "),a("br"),t._v(" "),a("a",{attrs:{href:"https://github.com/SeeMountainSea/shanhai-guard-spring-boot-starter/find/master"}},[a("img",{attrs:{alt:"GitHub Code Size",src:"https://img.shields.io/github/languages/code-size/SeeMountainSea/shanhai-guard-spring-boot-starter?color=795548"}})]),t._v(" "),a("a",{attrs:{href:"https://github.com/SeeMountainSea/shanhai-guard-spring-boot-starter/find/master"}},[a("img",{attrs:{alt:"GitHub Code Lines",src:"https://img.shields.io/tokei/lines/github/SeeMountainSea/shanhai-guard-spring-boot-starter?color=37474F"}})]),t._v(" "),a("a",{attrs:{href:"https://github.com/SeeMountainSea/shanhai-guard-spring-boot-starter/blob/master/LICENSE"}},[a("img",{attrs:{alt:"GitHub License",src:"https://img.shields.io/github/license/SeeMountainSea/shanhai-guard-spring-boot-starter?color=534BAE"}})])])]),t._v(" "),a("h2",{attrs:{id:"ç»„ä»¶èƒ½åŠ›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶èƒ½åŠ›"}},[t._v("#")]),t._v(" ç»„ä»¶èƒ½åŠ›")]),t._v(" "),a("ul",[a("li",[t._v("æ”¯æŒæ–‡ä»¶ä¸Šä¼ å®‰å…¨æ£€æµ‹ ï¼ˆæ”¯æŒå…¨å±€æ ¡éªŒã€å•ä¸ªæ–¹æ³•æ ¡éªŒã€è‡ªå®šä¹‰æ ¡éªŒã€ZIPæ‰«ææ ¡éªŒç­‰å¤šç§ç­–ç•¥ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒåŸºäºMybatis-Plusåœ¨è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ å¯†ä¸è„±æ•ï¼ˆæ”¯æŒè‡ªè¡Œæ‰©å±•å®ç°ç›¸å…³ç®—æ³•ï¼Œå¦‚å¯¹æ¥å¯†ç æœºæˆ–åŠ å¯†æœåŠ¡ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒSQLæ³¨å…¥&XSSæ³¨å…¥å®‰å…¨æ£€æµ‹")]),t._v(" "),a("li",[t._v("æ”¯æŒå¯†ç å¤æ‚åº¦æ£€éªŒ ï¼ˆæ”¯æŒæ•°å­—ã€å¤§å°å†™å­—æ¯ã€é”®ç›˜æ’åºã€é•¿åº¦ã€ç›¸åŒå­—ç¬¦ã€è¿ç»­å­—ç¬¦ç­‰å¤šç§ç­–ç•¥ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒSpringBoot POSTè¯·æ±‚æŠ¥æ–‡åŠ å¯†ã€å“åº”æŠ¥æ–‡åŠ å¯†")]),t._v(" "),a("li",[t._v("æ”¯æŒSpringBoot å“åº”æŠ¥æ–‡è¿›è¡Œå­—æ®µçº§æ•°æ®è„±æ•ï¼ˆæ”¯æŒè‡ªè¡Œå®ç°è„±æ•ç®—æ³•ï¼‰")]),t._v(" "),a("li",[t._v("æ”¯æŒå¯¹SpringBooté…ç½®æ–‡ä»¶ä»»æ„å‚æ•°è¿›è¡Œå‚æ•°åŠ å¯†ï¼ˆæ”¯æŒè‡ªè¡Œæ‰©å±•åŠ å¯†ç®—æ³•ï¼‰")])]),t._v(" "),a("h2",{attrs:{id:"_1-å¼•å…¥ä¾èµ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼•å…¥ä¾èµ–"}},[t._v("#")]),t._v(" 1.å¼•å…¥ä¾èµ–")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.wangshanhai.guard"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("shanhai-guard-spring-boot-starter"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${shanhaiguard.last.version}"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("h2",{attrs:{id:"_2-å¯ç”¨shanhaiguardå®‰å…¨é˜²æŠ¤ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¯ç”¨shanhaiguardå®‰å…¨é˜²æŠ¤ç»„ä»¶"}},[t._v("#")]),t._v(" 2.å¯ç”¨ShanHaiGuardå®‰å…¨é˜²æŠ¤ç»„ä»¶")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EnableShanHaiGuard")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShanHaiGuardConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"_3-ç»„ä»¶è¯´æ˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç»„ä»¶è¯´æ˜"}},[t._v("#")]),t._v(" 3.ç»„ä»¶è¯´æ˜")]),t._v(" "),a("h3",{attrs:{id:"_3-1-æ–‡ä»¶ä¸Šä¼ æ£€æµ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-æ–‡ä»¶ä¸Šä¼ æ£€æµ‹"}},[t._v("#")]),t._v(" 3.1 æ–‡ä»¶ä¸Šä¼ æ£€æµ‹")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fileguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pathPatterns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ£€æµ‹èŒƒå›´")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/**'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("suffix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ico"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jpeg "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ–‡ä»¶ä¸Šä¼ ç™½åå•")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("logTarce")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨è·Ÿè¸ªæ—¥å¿—")]),t._v("\n")])])]),a("p",[t._v("æ­¤å¤„çš„é…ç½®ä¸ºå…¨å±€æ€§é…ç½®ï¼Œå¯¹äºå•ä¸ªæ–¹æ³•çš„æ ¡éªŒï¼Œå¯ä»¥ä½¿ç”¨@FileGuardæ·»åŠ æ ¡éªŒï¼Œå‚è€ƒä¸‹é¢æ ·ä¾‹çš„ä½¿ç”¨æ–¹å¼ï¼š")]),t._v(" "),a("p",[t._v("1ï¼‰è·³è¿‡æ£€éªŒ")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FileGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("skip  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("2ï¼‰å®ç°è‡ªå®šä¹‰è§„åˆ™æ£€éªŒ")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FileGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("checkByRule "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šå¦‚æœå¯ç”¨è¯¥å‚æ•°ï¼Œéœ€è¦å®ç°FileGuardRuleDefServiceï¼Œå¦åˆ™å°†æ— æ³•ä¸Šä¼ æ–‡ä»¶ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileGuardRuleDefServiceImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileGuardRuleDefService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * è¡¨å•keyåŠå¯¹åº”çš„æ–‡ä»¶\n     * @param files æ–‡ä»¶æ¸…å•\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" files"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("3ï¼‰é€šè¿‡æ–‡ä»¶åç¼€æ ¡éªŒ(GuardType.SUFFIX)")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * æ–‡ä»¶ä¸Šä¼ æµ‹è¯•æ ·ä¾‹\n * @param request\n * @return\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/file/suffix/upload"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FileGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileGuard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GuardType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SUFFIX")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("supportedSuffixes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jpg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jpeg"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("suffix")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),t._v(" file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[file-upload-api]-name:{},contentType:{},size:{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContentType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("4)é€šè¿‡äºŒè¿›åˆ¶æ–‡ä»¶å¤´æ£€éªŒ(GuardType.BYTES)")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * æ–‡ä»¶ä¸Šä¼ æµ‹è¯•æ ·ä¾‹\n * @param request\n * @return\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestMapping")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/file/bytes/upload"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FileGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åªèƒ½ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileGuard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GuardType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BYTES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("supportedFileTypes "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JPEG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FileType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PNG")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bytes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MultipartFile")]),t._v(" file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Logger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[file-upload-api]-name:{},contentType:{},size:{}"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getContentType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("file"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("æ³¨ï¼šå•ä¸ªæ–¹æ³•çš„ç™½åå•å¿…é¡»ä¸ºå…¨å±€æ€§ç™½åå•çš„å­é›†")])]),t._v(" "),a("p",[t._v("5)æ”¯æŒZIPå‹ç¼©åŒ…è‡ªåŠ¨æ‰«ææ£€æµ‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fileguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipScan")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zipSafeSuffixs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jpg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("gif"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("png"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ico"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bmp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jpeg "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ZIPå‹ç¼©åŒ…å†…æ–‡ä»¶ä¸Šä¼ ç™½åå•")]),t._v("\n")])])]),a("p",[t._v("6)æ’é™¤æŸäº›ç‰¹å®šURIæ ¡éªŒ")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shanhai:\n  fileguard:\n     excludePathPatterns: \n      - '/**'\n")])])]),a("h3",{attrs:{id:"_3-2-å¯†ç å¤æ‚åº¦æ£€æµ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-å¯†ç å¤æ‚åº¦æ£€æµ‹"}},[t._v("#")]),t._v(" 3.2 å¯†ç å¤æ‚åº¦æ£€æµ‹")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("passwdguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æœ€å°é•¿åº¦")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("maxLength")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æœ€å¤§é•¿åº¦")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("characterExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒ…å«å¤§å°å†™å­—æ¯")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("numberExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒ…å«æ•°å­—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("symbolExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒ…å«ç¬¦å·")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keyboardNotExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ä¸åŒ…å«é”®ç›˜æ’åº")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allSameNotExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ä¸åŒ…å«ç›¸åŒå­—ç¬¦ï¼ˆæ•°å­—æˆ–å­—æ¯ï¼Œå¦‚111æˆ–aaaï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("allSameNum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç›¸åŒå­—ç¬¦æœ€å¤§ä¸ªæ•°")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("seqSameNotExist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ä¸åŒ…å«è¿ç»­å­—ç¬¦ï¼ˆæ•°å­—æˆ–å­—æ¯,å¦‚123æˆ–abcï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("seqSameNum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è¿ç»­å­—ç¬¦æœ€å¤§ä¸ªæ•°")]),t._v("\n    \n")])])]),a("p",[t._v("åœ¨ä¸šåŠ¡æ¨¡å—å¯ä»¥ç›´æ¥ä½¿ç”¨å¯†ç å¤æ‚åº¦æ£€æµ‹æœåŠ¡PasswdServiceï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ³¨å…¥æœåŠ¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PasswdService")]),t._v(" passwdService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è°ƒç”¨æœåŠ¡æ–¹æ³•")]),t._v("\npasswdService"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkPasswd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-3-sql-xssæ³¨å…¥æ£€æµ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-sql-xssæ³¨å…¥æ£€æµ‹"}},[t._v("#")]),t._v(" 3.3 SQL&XSSæ³¨å…¥æ£€æµ‹")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("webguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path-patterns")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ£€æµ‹èŒƒå›´")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/*'")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-4-mysqlæ•°æ®å®‰å…¨æ£€æµ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-mysqlæ•°æ®å®‰å…¨æ£€æµ‹"}},[t._v("#")]),t._v(" 3.4 Mysqlæ•°æ®å®‰å…¨æ£€æµ‹")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mysqlguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("where-exist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒ…å«whereè¯­å¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("limit-exist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŒ…å«limitè¯­å¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("query-limit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20000")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#limitæ¡æ•°")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-5-requestbody-é€šç”¨è§£ç ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-requestbody-é€šç”¨è§£ç ç»„ä»¶"}},[t._v("#")]),t._v(" 3.5 @RequestBody é€šç”¨è§£ç ç»„ä»¶")]),t._v(" "),a("h4",{attrs:{id:"_3-5-1-å…¨é‡è¯·æ±‚è§£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-å…¨é‡è¯·æ±‚è§£ç "}},[t._v("#")]),t._v(" 3.5.1 å…¨é‡è¯·æ±‚è§£ç ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("decodebody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤ç»„ä»¶åªæ˜¯åšäº†é€šç”¨æ€§å°è£…ï¼Œå¯¹äºè§£ç é€»è¾‘éœ€è¦è‡ªè¡Œå®ç°æ¥å£DecodeBodyServiceçš„decodeRequestBodyæ–¹æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®è§£ç æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ¥å£çš„å®ç°æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰å‚æ•°è§£ç æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DecodeBodyService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * è§£æåŠ å¯†å‚æ•°\n     * @param body åŸå§‹æŠ¥æ–‡æ•°æ®\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeRequestBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å¦‚æœéœ€è¦æŸä¸ªè¯·æ±‚ä¸è¿›è¡Œè§£ç æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£@DecodeBodyIgnoreè·³è¿‡å¯¹ç›®æ ‡è¯·æ±‚çš„è§£ç æ“ä½œã€‚")]),t._v(" "),a("h4",{attrs:{id:"_3-5-2-æŒ‡å®šè¯·æ±‚è§£ç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-æŒ‡å®šè¯·æ±‚è§£ç "}},[t._v("#")]),t._v(" 3.5.2 æŒ‡å®šè¯·æ±‚è§£ç ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("decodebody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æŒ‡å®šè¯·æ±‚è§£ç æ¨¡å¼ï¼Œé»˜è®¤ä¸ºå…¨é‡è§£ç  mode:1")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@DecodeBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demio"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ResponseBody")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RequestBody")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤ç»„ä»¶åªæ˜¯åšäº†é€šç”¨æ€§å°è£…ï¼Œå¯¹äºè§£ç é€»è¾‘éœ€è¦è‡ªè¡Œå®ç°æ¥å£DecodeBodyServiceçš„decodeRequestBodyæ–¹æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®è§£ç æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ¥å£çš„å®ç°æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰å‚æ•°è§£ç æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DecodeBodyService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodeRequestBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" ruleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç”¨æˆ·æ ¹æ®ruleIdè¿›è¡Œä¸ªæ€§åŒ–è§£ç ç»„ä»¶å¼€å‘ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-6-springbooté…ç½®æ–‡ä»¶å‚æ•°åŠ å¯†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-springbooté…ç½®æ–‡ä»¶å‚æ•°åŠ å¯†"}},[t._v("#")]),t._v(" 3.6 SpringBooté…ç½®æ–‡ä»¶å‚æ•°åŠ å¯†")]),t._v(" "),a("h4",{attrs:{id:"_3-6-1-ä½¿ç”¨å†…ç½®ç®—æ³•å¤„ç†åŠ å¯†å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-1-ä½¿ç”¨å†…ç½®ç®—æ³•å¤„ç†åŠ å¯†å‚æ•°"}},[t._v("#")]),t._v(" 3.6.1 ä½¿ç”¨å†…ç½®ç®—æ³•å¤„ç†åŠ å¯†å‚æ•°")]),t._v(" "),a("p",[t._v("å†…ç½®è§£å¯†ç®—æ³•(PBE)é…ç½®æ ·ä¾‹-ï¼ˆè€ç‰ˆæœ¬å®ç°ï¼Œä¸å†æ¨èä½¿ç”¨ï¼‰")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envdecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("market")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("algorithm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PBE           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç®—æ³•åç§°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pebPasswd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220111'")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯†é’¥")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pebSalt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'XCWT61iHdbg='")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç›å€¼")]),t._v("\n")])])]),a("p",[t._v("å†…ç½®è§£å¯†ç®—æ³•(PBEå®‰å…¨æ¨¡å¼)é…ç½®æ ·ä¾‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envdecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("market")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("algorithm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" PBESafe           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç®—æ³•åç§°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pebPasswd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220111'")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯†é’¥")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("pebSalt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'XCWT61iHdbg='")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç›å€¼")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cycleNum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¾ªç¯æ¬¡æ•°ï¼ˆå¿…é¡»å¤§äº10000ï¼‰")]),t._v("\n")])])]),a("p",[t._v("å†…ç½®è§£å¯†ç®—æ³•(AES)é…ç½®æ ·ä¾‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envdecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("market")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("algorithm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" AES           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#ç®—æ³•åç§°")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'woniucsdnvip8888'")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯†é’¥ (16å­—èŠ‚)")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("iv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bbCGNLlryzHaCL3P'")]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å‘é‡ (16å­—èŠ‚)")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æ¨¡å¼ 1:CBC 2:CFB")]),t._v("\n")])])]),a("p",[t._v("SpringBooté…ç½®å‚æ•°åŠ å¯†è¯´æ˜ï¼š")]),t._v(" "),a("p",[t._v("1ï¼‰æ‰€æœ‰åŠ å¯†å‚æ•°çš„Valueå€¼ä»¥**envdecode:ğŸ˜—*æ‰“å¤´ï¼Œä¸¾ä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'envdecode::iezthxHWDp/fhXYXZSjhVw=='")]),t._v("\n")])])]),a("p",[t._v("2ï¼‰åŠ å¯†ç»“æœç”Ÿæˆæ ·ä¾‹")]),t._v(" "),a("p",[t._v("PBEåŠ å¯†ç®—æ³•")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç”Ÿæˆç›å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initSalt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è‡ªå®šä¹‰å¯†é’¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" passwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20220111"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¾…åŠ å¯†å‚æ•°å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zhangsanxxx1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" encryptStr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åŠ å¯†ç»“æœ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("encryptStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è§£å¯†ç»“æœ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encryptStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("PBEå®‰å…¨æ¨¡å¼åŠ å¯†ç®—æ³•")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç”Ÿæˆç›å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initSalt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è‡ªå®šä¹‰å¯†é’¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" passwd"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20220111"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¾…åŠ å¯†å‚æ•°å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" val"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zhangsanxxx1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" encryptStr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encryptSafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åŠ å¯†ç»“æœ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("encryptStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è§£å¯†ç»“æœ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PBEUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decryptSafe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encryptStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("passwd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("salt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("AESåŠ å¯†ç®—æ³•")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" text "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å—¨ï¼Œæ‚¨å¥½ï¼"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" key  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"woniucsdnvip8888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" iv  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getIV")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" encryptTextCBC "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES_CBC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CBC åŠ å¯†IVï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CBC åŠ å¯†åå†…å®¹ï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" encryptTextCBC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CBC è§£å¯†åå†…å®¹ï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encryptTextCBC"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES_CBC")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" encryptTextCFB "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES_CFB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CFB åŠ å¯†IVï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CFB åŠ å¯†åå†…å®¹ï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" encryptTextCFB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CFB è§£å¯†åå†…å®¹ï¼š"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encryptTextCFB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" iv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES_CFB")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-6-2-è‡ªå®šä¹‰å¤„ç†åŠ å¯†å‚æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-2-è‡ªå®šä¹‰å¤„ç†åŠ å¯†å‚æ•°"}},[t._v("#")]),t._v(" 3.6.2 è‡ªå®šä¹‰å¤„ç†åŠ å¯†å‚æ•°")]),t._v(" "),a("p",[t._v("é¦–å…ˆéœ€è¦å®ç°ä¸€ä¸ªè‡ªå·±çš„å‚æ•°è§£å¯†ç±»ï¼Œè¦æ±‚è¯¥ç±»å¿…é¡»ç»§æ‰¿äºPropertyDecodeï¼Œå¹¶å®ç°å…¶å®šä¹‰çš„è§£å¯†æ–¹æ³•getPropertyï¼ŒPropertyDecodedå®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PropertyDecode")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * è‡ªå®šä¹‰è§£æç®—æ³•\n     * @param envProperties é€šç”¨é…ç½®å‚æ•° \n     * @param configProperties å¾…è§£å¯†å±æ€§key:value\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Nullable")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("abstract")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" envProperties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Properties")]),t._v(" configProperties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("æ³¨ï¼šSpringBooté…ç½®æ–‡ä»¶ä¸­shanhai.envdecodeæ‰“å¤´çš„å‚æ•°éƒ½ä¼šä¼ é€’åˆ°envPropertiesä¸­ï¼Œå¯ä»¥è‡ªå·±è·å–è‡ªå·±é…ç½®çš„è‡ªå®šä¹‰å‚æ•°ã€‚")])]),t._v(" "),a("p",[t._v("åœ¨SpringBootçš„é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šè‡ªå·±æ–°å¢çš„è‡ªå®šä¹‰è§£å¯†ç±»ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envdecode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è‡ªå®šä¹‰è§£å¯†ç±»çš„ä¼˜å…ˆçº§æœ€é«˜")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("className")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'com.xxx.RSAPropertyDecode'")]),t._v("\n")])])]),a("p",[a("strong",[t._v("æ³¨ ï¼šå¦‚æœæ—¢å­˜åœ¨è‡ªå®šä¹‰è§£å¯†ç±»ï¼Œåˆå­˜åœ¨PBEè§£å¯†é…ç½®çš„ï¼Œè‡ªå®šä¹‰è§£å¯†ç±»ä¼˜å…ˆçº§æœ€é«˜ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"_3-7-åŸºäºmybatis-plusè¿›è¡Œå­—æ®µçº§åŠ è§£å¯†ä¸æ•°æ®è„±æ•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-åŸºäºmybatis-plusè¿›è¡Œå­—æ®µçº§åŠ è§£å¯†ä¸æ•°æ®è„±æ•"}},[t._v("#")]),t._v(" 3.7 åŸºäºMybatis-Plusè¿›è¡Œå­—æ®µçº§åŠ è§£å¯†ä¸æ•°æ®è„±æ•")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("æ•°æ®å¤„ç†")]),t._v(" "),a("th",[t._v("ç”Ÿæ•ˆæ¨¡å¼")]),t._v(" "),a("th",[t._v("å¤‡æ³¨")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("æ•°æ®åŠ å¯†")]),t._v(" "),a("td",[t._v("æ–°å¢|ä¿®æ”¹|æŸ¥è¯¢")]),t._v(" "),a("td",[t._v("ä¸æ”¯æŒ QueryWrapperè¿›è¡ŒæŸ¥è¯¢")])]),t._v(" "),a("tr",[a("td",[t._v("æ•°æ®è§£å¯†")]),t._v(" "),a("td",[t._v("æŸ¥è¯¢")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("æ•°æ®è„±æ•")]),t._v(" "),a("td",[t._v("æ–°å¢|ä¿®æ”¹|æŸ¥è¯¢")]),t._v(" "),a("td",[t._v("å½“æ‰§è¡Œæ–°å¢|ä¿®æ”¹æ“ä½œæ—¶ï¼Œè„±æ•ä¸åŠ å¯†ä¸å»ºè®®åŒæ—¶ä½¿ç”¨")])])])]),t._v(" "),a("p",[t._v("æ•°æ®ç”Ÿæ•ˆèŒƒå›´")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("èŒƒå›´å®šä¹‰")]),t._v(" "),a("th",[t._v("ä½œç”¨åŸŸ")]),t._v(" "),a("th",[t._v("å¤‡æ³¨")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("DataExecModel.INSERT")]),t._v(" "),a("td",[t._v("æ•°æ®æ–°å¢æ“ä½œ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DataExecModel.UPDATE")]),t._v(" "),a("td",[t._v("æ•°æ®æ›´æ–°æ“ä½œ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DataExecModel.SELECT")]),t._v(" "),a("td",[t._v("æ•°æ®æŸ¥è¯¢æ“ä½œ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DataExecModel.INSERTANDUPDATE")]),t._v(" "),a("td",[t._v("æ•°æ®æ–°å¢æˆ–æ›´æ–°æ“ä½œ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("DataExecModel.ALL")]),t._v(" "),a("td",[t._v("æ•°æ®æ–°å¢|ä¿®æ”¹|æŸ¥è¯¢æ“ä½œ")]),t._v(" "),a("td")])])]),t._v(" "),a("h4",{attrs:{id:"_3-7-1-ä½¿ç”¨å†…ç½®ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æ“ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-1-ä½¿ç”¨å†…ç½®ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æ“ä½œ"}},[t._v("#")]),t._v(" 3.7.1 ä½¿ç”¨å†…ç½®ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æ“ä½œ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dataguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trace-log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨è·Ÿè¸ªæ—¥å¿—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("encryptRulesExt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŠ å¯†ç®—æ³•å‚æ•°é…ç½®(å¯¹ç§°åŠ å¯†&éå¯¹ç§°åŠ å¯†å‡éœ€é…ç½®)")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AES'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å†…ç½®AESåŠ å¯†ç®—æ³•ç¤ºä¾‹(keyçš„é•¿åº¦ä¸º16ä½) ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SM4'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å†…ç½®SM4åŠ å¯†ç®—æ³•ç¤ºä¾‹(keyçš„é•¿åº¦ä¸º16ä½) ")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'HMACSHA256'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å†…ç½®HMACSHA256åŠ å¯†ç®—æ³•ç¤ºä¾‹")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'RSA'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publicKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("privateKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å†…ç½®RSAåŠ å¯†ç®—æ³•ç¤ºä¾‹")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SM2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("publicKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("privateKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å†…ç½®SM2åŠ å¯†ç®—æ³•ç¤ºä¾‹ ")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤å¤„çš„ruleIdçš„å€¼æ˜¯ç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦ä¿®æ”¹ä¸ºFieldDataGuardä¸­å®šä¹‰çš„ruleIdå¯¹åº”çš„å€¼ï¼ŒruleIdå¿…é¡»è‡ªè¡Œç¡®ä¿å…¨å±€å”¯ä¸€ï¼Œå¦åˆ™æ•°æ®è§£æä¼šæœ‰é—®é¢˜ã€‚ruleParamsä¸­çš„å‚æ•°ï¼Œä½¿ç”¨å†…ç½®ç®—æ³•æ—¶ï¼Œå‚æ•°åå¿…é¡»ä¸ºç¤ºä¾‹é…ç½®ä¸­çš„å‚æ•°åæ‰å¯ä»¥ï¼Œç›¸å…³keyçš„å€¼å¯ä»¥è‡ªå·±è‡ªå®šä¹‰ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœéœ€è¦ä½¿ç”¨å›½å¯†ç®—æ³•ï¼Œéœ€è¦å¼•å…¥é¢å¤–çš„ä¾èµ–æ‰å¯ä»¥")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("        <dependency>\n            <groupId>org.bouncycastle</groupId>\n            <artifactId>bcprov-jdk15to18</artifactId>\n            <version>${bcprov.version}</version>\n        </dependency>\n")])])]),a("p",[t._v("åœ¨Domainä¸­æ·»åŠ ç±»æ‰«ææ³¨è§£@ShanHaiDataGuard,åœ¨éœ€è¦æ“ä½œçš„å­—æ®µæ·»åŠ  @FieldDataGuardæ³¨è§£ï¼š")]),t._v(" "),a("p",[t._v("åŠ å¯†ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ShanHaiDataGuard")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DictData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serializable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" serialVersionUID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldDataGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dictLabel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("encrypt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("encryptMethod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataEncryptDef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SHA256")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" dictLabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("è§£å¯†ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ShanHaiDataGuard")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DictData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serializable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" serialVersionUID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldDataGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dictLabel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decrypt  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decryptMethod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataEncryptDef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AES")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("decryptExecModel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataExecModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SELECT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" dictLabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("@FieldDataGuard å„å­—æ®µå®šä¹‰")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å­—æ®µå®šä¹‰")]),t._v(" "),a("th",[t._v("å­—æ®µç±»å‹")]),t._v(" "),a("th",[t._v("å­—æ®µè¯´æ˜")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("ruleId")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("è§„åˆ™IDï¼Œç”¨äºè‡ªè¡Œæ ¹æ®è§„åˆ™è¿›è¡Œç›¸å…³æ‰©å±•")])]),t._v(" "),a("tr",[a("td",[t._v("encrypt")]),t._v(" "),a("td",[t._v("boolean")]),t._v(" "),a("td",[t._v("æ˜¯å¦å¯ç”¨æ•°æ®åŠ å¯†")])]),t._v(" "),a("tr",[a("td",[t._v("encryptMethod")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("åŠ å¯†ç®—æ³• é»˜è®¤ç®—æ³•é›†å‚è€ƒDataEncryptDef")])]),t._v(" "),a("tr",[a("td",[t._v("encryptExecModel")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("æ‰§è¡ŒåŠ å¯†ç®—æ³•çš„æ—¶æœº å‚è€ƒDataExecModel")])]),t._v(" "),a("tr",[a("td",[t._v("decrypt")]),t._v(" "),a("td",[t._v("boolean")]),t._v(" "),a("td",[t._v("æ˜¯å¦å¯ç”¨æ•°æ®æŸ¥è¯¢è§£å¯†")])]),t._v(" "),a("tr",[a("td",[t._v("decryptMethod")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("è§£å¯†ç®—æ³• é»˜è®¤ç®—æ³•é›†å‚è€ƒDataEncryptDef")])]),t._v(" "),a("tr",[a("td",[t._v("hyposensit")]),t._v(" "),a("td",[t._v("boolean")]),t._v(" "),a("td",[t._v("æ˜¯å¦å¯ç”¨æ•°æ®è„±æ•")])]),t._v(" "),a("tr",[a("td",[t._v("hyposensitMethod")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("æ•°æ®è„±æ•ç®—æ³• é»˜è®¤ç®—æ³•é›†å‚è€ƒDataHyposensitDef")])]),t._v(" "),a("tr",[a("td",[t._v("hyposensitExecModel")]),t._v(" "),a("td",[t._v("String")]),t._v(" "),a("td",[t._v("æ‰§è¡Œè„±æ•ç®—æ³•çš„æ—¶æœº å‚è€ƒDataExecModel")])])])]),t._v(" "),a("p",[t._v("ShanHaiTmpDataå¯ä»¥è·å–åˆ°åŸå§‹å­—æ®µå€¼ä»¥åŠå¤„ç†è¿™ä¸ªå€¼æ‰€éœ€è¦çš„è¿è¡Œç®—æ³•åç§°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯æ—¢è¦åŠ å¯†åˆè¦è„±æ•ï¼Œåˆ™å…ˆæ‰§è¡Œè„±æ•å†æ‰§è¡ŒåŠ å¯†ã€‚å¦‚æœæ—¢è¦è§£å¯†åˆè¦è„±æ•ï¼Œåˆ™å…ˆæ‰§è¡Œè§£å¯†ç„¶åæ‰§è¡Œè„±æ•ã€‚")]),t._v(" "),a("p",[t._v("åŠ è§£å¯†é»˜è®¤ç®—æ³•ï¼ˆDataEncryptDefï¼‰ï¼š")]),t._v(" "),a("p",[a("strong",[t._v("MD5/SHA256/HMACSHA256/RSA/AES/SM2/SM3/SM4")])]),t._v(" "),a("h4",{attrs:{id:"_3-7-2-æ•°æ®å­—æ®µçº§è„±æ•æ“ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-2-æ•°æ®å­—æ®µçº§è„±æ•æ“ä½œ"}},[t._v("#")]),t._v(" 3.7.2 æ•°æ®å­—æ®µçº§è„±æ•æ“ä½œ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dataguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("trace-log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨è·Ÿè¸ªæ—¥å¿—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hyposensitRulesExt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#è„±æ•è§„åˆ™å®šä¹‰ï¼ˆéœ€è¦è‡ªè¡Œæ‰©å±•æ—¶æ‰éœ€è¦é…ç½®ï¼Œé»˜è®¤ä¸éœ€è¦é…ç½®è¯¥æ‰©å±•ï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yourRule'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'([1][1-9]\\d{1})\\d{4}(\\d{4})'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("replacement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$1****$2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤å¤„çš„ruleIdçš„å€¼æ˜¯ç¤ºä¾‹ï¼Œå®é™…ä½¿ç”¨æ—¶è‡ªå·±å¯ä»¥æ”¹ä¸ºå…¶ä»–æ ‡è¯†å­—ç¬¦ä¸²å³å¯ï¼Œregexä¸ºè‡ªå®šä¹‰æ­£åˆ™ï¼Œreplacementä¸ºè„±æ•åçš„æ ¼å¼ã€‚ä½¿ç”¨çš„String.replaceAllåšè„±æ•å¤„ç†ã€‚")]),t._v(" "),a("p",[t._v("è„±æ•é»˜è®¤ç®—æ³•ï¼ˆDataHyposensitDefï¼‰ï¼š")]),t._v(" "),a("p",[a("strong",[t._v("IDcard/RealName/TelPhone/email/money")]),t._v(" åˆ†åˆ«å¯¹åº”çš„æ˜¯ï¼šèº«ä»½è¯/å§“å/æ‰‹æœºå·/é‚®ç®±/é‡‘é¢")]),t._v(" "),a("p",[t._v("æ•°æ®è„±æ•ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ShanHaiDataGuard")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DictData")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serializable")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" serialVersionUID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1L")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@FieldDataGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dictLabel"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hyposensit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hyposensitMethod "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataHyposensitDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IDcard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hyposensitExecModel "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataExecModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("QUERY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" dictLabel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"_3-7-3-ä½¿ç”¨è‡ªå®šä¹‰ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æˆ–è„±æ•æ“ä½œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-3-ä½¿ç”¨è‡ªå®šä¹‰ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æˆ–è„±æ•æ“ä½œ"}},[t._v("#")]),t._v(" 3.7.3 ä½¿ç”¨è‡ªå®šä¹‰ç®—æ³•è¿›è¡Œæ•°æ®å­—æ®µçº§åŠ è§£å¯†æˆ–è„±æ•æ“ä½œ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dataguard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("encryptRulesExt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#åŠ å¯†ç®—æ³•å‚æ•°é…ç½®(è‡ªå®šä¹‰ç®—æ³•å®ç°)")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxxx'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ruleParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wjy59188wjy59188"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("iv")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" aaaaa1111"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" device"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),a("p",[t._v("æ­¤å¤„ruleParamså†…çš„å‚æ•°ä½ å¯ä»¥æŒ‰ç…§è‡ªå·±éœ€è¦è¿›è¡Œè‡ªå®šä¹‰ï¼Œæ­¤å¤„åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚")]),t._v(" "),a("p",[t._v("åœ¨è‡ªå·±çš„æ•°æ®è§£æå®ç°æ‰©å±•åŠ è§£å¯†ç®—æ³•æˆ–è€…æ•°æ®è„±æ•æ“ä½œã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XXXDataGuardServiceImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DefaultDataGuardServiceImpl")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataGuardConfig")]),t._v(" shanhaiDataGuardConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XXXDataGuardServiceImpl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataGuardConfig")]),t._v(" shanhaiDataGuardConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shanhaiDataGuardConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShanHaiTmpData")]),t._v(" shanHaiTmpData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//TODO å¯ä»¥åœ¨æ­¤å¤„æ‰©å±•è‡ªå®šä¹‰åŠ å¯†ç®—æ³•å®ç°")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shanHaiTmpData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ShanHaiTmpData")]),t._v(" shanHaiTmpData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//TODO å¯ä»¥åœ¨æ­¤å¤„æ‰©å±•è‡ªå®šä¹‰è§£å¯†ç®—æ³•å®ç°")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("decrypt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shanHaiTmpData"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("p",[t._v("è‡ªå·±å®šä¹‰çš„åŠ è§£å¯†ç®—æ³•çš„é…ç½®å‚æ•°å¯ä»¥ä»DataGuardConfig->encryptRulesExt->EncryptRuleä¸­è·å–ï¼ŒruleParamsåœ¨EncryptRuleä¸­ä»¥Mapçš„å½¢å¼å­˜åœ¨ã€‚å¯¹äºDomainå¯¹è±¡ä¸­çš„ruleIdä»¥åŠåŸå§‹å­—æ®µæ•°æ®å¯ä»¥ä»ShanHaiTmpDataä¸­è·å–ã€‚")]),t._v(" "),a("p",[t._v("å¯¹äºè„±æ•ï¼Œæš‚ä¸æ”¯æŒé…ç½®è‡ªå®šä¹‰è„±æ•ç®—æ³•ã€‚éœ€è¦å®ç°çš„å¯ä»¥è‡ªå·±é‡å†™hyposensitçš„å®ç°ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-8åŸºäºåºåˆ—åŒ–çš„å“åº”æŠ¥æ–‡æ•°æ®è„±æ•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-8åŸºäºåºåˆ—åŒ–çš„å“åº”æŠ¥æ–‡æ•°æ®è„±æ•"}},[t._v("#")]),t._v(" 3.8åŸºäºåºåˆ—åŒ–çš„å“åº”æŠ¥æ–‡æ•°æ®è„±æ•")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("shanhai:\n  respguard:\n    enable: true       #å¯ç”¨ç»„ä»¶\n")])])]),a("p",[t._v("åœ¨å“åº”æŠ¥æ–‡VOå¯¹è±¡ä¸­éœ€è¦è¿›è¡Œè„±æ•çš„å­—æ®µï¼Œæ·»åŠ æ³¨è§£ @RespFieldGuardå¹¶å¢åŠ è§„åˆ™å®šä¹‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RespInfo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@RespFieldGuard")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å®ç°RespGuardRuleDefServiceæ¥å£ï¼Œå®ç°è‡ªå·±çš„è„±æ•ç®—æ³•é›†åˆï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Service")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OpenRespGuardRuleDefService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RespGuardRuleDefService")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jsonGenerator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" ruleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" fieldValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fieldValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("ruleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤å¤„åªæ˜¯åšäº†é€šç”¨æ€§å°è£…ï¼Œæ²¡æœ‰å†…ç½®ä»»ä½•è„±æ•ç®—æ³•ï¼Œç›¸å…³è§„åˆ™éœ€è¦è‡ªå·±æ¥å®ç°ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-9é€šç”¨å“åº”æŠ¥æ–‡ç¼–ç ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-9é€šç”¨å“åº”æŠ¥æ–‡ç¼–ç ç»„ä»¶"}},[t._v("#")]),t._v(" 3.9é€šç”¨å“åº”æŠ¥æ–‡ç¼–ç ç»„ä»¶")]),t._v(" "),a("h4",{attrs:{id:"_3-5-1-å…¨é‡è¯·æ±‚è§£ç -2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-1-å…¨é‡è¯·æ±‚è§£ç -2"}},[t._v("#")]),t._v(" 3.5.1 å…¨é‡è¯·æ±‚è§£ç ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("encodebody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤ç»„ä»¶åªæ˜¯åšäº†é€šç”¨æ€§å°è£…ï¼Œå¯¹äºç¼–ç é€»è¾‘éœ€è¦è‡ªè¡Œå®ç°æ¥å£EncodeBodyServiceçš„encodeRespBodyæ–¹æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®ç¼–ç æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ¥å£çš„å®ç°æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰å‚æ•°ç¼–ç æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * åŠ å¯†å“åº”\n     * @param body åŸå§‹å“åº”æŠ¥æ–‡\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeRespBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¦‚æœéœ€è¦æŸä¸ªè¯·æ±‚ä¸è¿›è¡Œè§£ç æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨æ³¨è§£@EncodeBodyIgnoreè·³è¿‡å¯¹ç›®æ ‡è¯·æ±‚çš„è§£ç æ“ä½œã€‚")]),t._v(" "),a("h4",{attrs:{id:"_3-5-2-æŒ‡å®šè¯·æ±‚è§£ç -2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-2-æŒ‡å®šè¯·æ±‚è§£ç -2"}},[t._v("#")]),t._v(" 3.5.2 æŒ‡å®šè¯·æ±‚è§£ç ")]),t._v(" "),a("p",[t._v("é…ç½®å‚æ•°å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shanhai")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("encodebody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#å¯ç”¨ç»„ä»¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#æŒ‡å®šè¯·æ±‚åŠ å¯†æ¨¡å¼ï¼Œé»˜è®¤ä¸ºå…¨é‡åŠ å¯† mode:1")]),t._v("\n")])])]),a("p",[t._v("ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@EncodeBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ruleId "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSONObject")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demoxx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨ï¼šæ­¤ç»„ä»¶åªæ˜¯åšäº†é€šç”¨æ€§å°è£…ï¼Œå¯¹äºç¼–ç é€»è¾‘éœ€è¦è‡ªè¡Œå®ç°æ¥å£EncodeBodyServiceçš„encodeRespBodyæ–¹æ³•ï¼Œåœ¨è¿›è¡Œæ•°æ®ç¼–ç æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ¥å£çš„å®ç°æ–¹æ³•è¿›è¡Œè‡ªå®šä¹‰å‚æ•°ç¼–ç æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * æŒ‰ç…§è‡ªå®šä¹‰è§„åˆ™IDåŠ å¯†å“åº”æŠ¥æ–‡\n     * @param ruleId è§„åˆ™ID\n     * @param body åŸå§‹æŠ¥æ–‡\n     * @return\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodeRespBody")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" ruleId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ç”¨æˆ·æ ¹æ®ruleIdè¿›è¡Œä¸ªæ€§åŒ–ç¼–ç ç»„ä»¶å¼€å‘ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_3-10-å¸¸è§é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-å¸¸è§é—®é¢˜"}},[t._v("#")]),t._v(" 3.10 å¸¸è§é—®é¢˜")]),t._v(" "),a("h4",{attrs:{id:"_3-10-1-æ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä¸ç”Ÿæ•ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-1-æ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä¸ç”Ÿæ•ˆ"}},[t._v("#")]),t._v(" 3.10.1 æ–‡ä»¶ä¸Šä¼ æ£€æµ‹ä¸ç”Ÿæ•ˆ")]),t._v(" "),a("p",[t._v("åœ¨springbootä¸­ä½¿ç”¨å¤šä¸ªç»§æ‰¿WebMvcConfigurationSupportçš„ç±»æ˜¯è¡Œä¸é€šçš„ï¼Œè€Œä¸”ä½¿ç”¨æ³¨è§£@configurationå»åŠ è½½é…ç½®ç±»åªèƒ½æŒ‚è½½ä¸€ä¸ªç»§æ‰¿WebMvcConfigurationSupportã€‚")]),t._v(" "),a("p",[t._v("è§£å†³åŠæ³•ï¼šè‡ªå·±é¡¹ç›®ä¸­çš„webmvcé…ç½®è¦å®ç° webMvcConfigurer æ¥å£è€Œä¸èƒ½ä½¿ç”¨ç»§æ‰¿WebMvcConfigurationSupportç±»çš„æ–¹å¼ï¼Œè¿™æ ·ç»„ä»¶å’Œè‡ªå·±é¡¹ç›®ä¸­çš„webmvcéƒ½å¯ä»¥æŒ‚è½½ã€‚")]),t._v(" "),a("p",[t._v("ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XXXConfig")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebMvcConfigurer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);